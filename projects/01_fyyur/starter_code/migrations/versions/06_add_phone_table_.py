"""empty message

Revision ID: 06_add_phone_table
Revises: 05_add_state_table
Create Date: 2020-12-24 13:11:22.222308

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.engine.reflection import Inspector

# revision identifiers, used by Alembic.
revision = '06_add_phone_table'
down_revision = '05_add_state_table'
branch_labels = None
depends_on = None

conn = op.get_bind()
inspector = Inspector.from_engine(conn)
tables = inspector.get_table_names()


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    if 'phones' not in tables:
        phone = op.create_table('phones',
                                sa.Column('id', sa.Integer, nullable=False, primary_key=True),
                                sa.Column('prefix', sa.Integer, nullable=False),
                                sa.Column('state', sa.Integer, nullable=False),
                                sa.ForeignKeyConstraint(['state'], ['states.id'], ),
                                sa.PrimaryKeyConstraint('id'),
                                sa.UniqueConstraint('prefix')
                                )

    res = conn.execute("select * from phones")
    states = conn.execute("select * from states")
    results = res.fetchall()

    if len(results) == 0:
        conn.execute("INSERT INTO phones(state, prefix) "
                     "VALUES "
                     "(1, 205),"
                     "(1, 251),"
                     "(1, 256),"
                     "(1, 334),"
                     "(1, 659),"
                     "(1, 938),"
                     "(2, 907),"
                     "(3, 479),"
                     "(3, 501),"
                     "(3, 870),"
                     "(4, 480),"
                     "(4, 520),"
                     "(4, 602),"
                     "(4, 623),"
                     "(4, 928),"
                     "(5, 209),"
                     "(5, 213),"
                     "(5, 279),"
                     "(5, 310),"
                     "(5, 323),"
                     "(5, 341),"
                     "(5, 408),"
                     "(5, 415),"
                     "(5, 424),"
                     "(5, 442),"
                     "(5, 510),"
                     "(5, 530),"
                     "(5, 559),"
                     "(5, 562),"
                     "(5, 619),"
                     "(5, 626),"
                     "(5, 628),"
                     "(5, 650),"
                     "(5, 657),"
                     "(5, 661),"
                     "(5, 669),"
                     "(5, 707),"
                     "(5, 714),"
                     "(5, 747),"
                     "(5, 760),"
                     "(5, 805),"
                     "(5, 818),"
                     "(5, 820),"
                     "(5, 831),"
                     "(5, 858),"
                     "(5, 909),"
                     "(5, 916),"
                     "(5, 925),"
                     "(5, 949),"
                     "(5, 951),"
                     "(6, 303),"
                     "(6, 719),"
                     "(6, 720),"
                     "(6, 970),"
                     "(7, 203),"
                     "(7, 475),"
                     "(7, 860),"
                     "(7, 959),"
                     "(8, 302),"
                     "(10, 239),"
                     "(10, 305),"
                     "(10, 321),"
                     "(10, 352),"
                     "(10, 386),"
                     "(10, 407),"
                     "(10, 561),"
                     "(10, 689),"
                     "(10, 727),"
                     "(10, 754),"
                     "(10, 772),"
                     "(10, 786),"
                     "(10, 813),"
                     "(10, 850),"
                     "(10, 863),"
                     "(10, 904),"
                     "(10, 941),"
                     "(10, 954),"
                     "(11, 229),"
                     "(11, 404),"
                     "(11, 470),"
                     "(11, 478),"
                     "(11, 678),"
                     "(11, 706),"
                     "(11, 762),"
                     "(11, 770),"
                     "(11, 912),"
                     "(12, 808),"
                     "(13, 208),"
                     "(13, 986),"
                     "(14, 217),"
                     "(14, 224),"
                     "(14, 309),"
                     "(14, 312),"
                     "(14, 331),"
                     "(14, 618),"
                     "(14, 630),"
                     "(14, 708),"
                     "(14, 773),"
                     "(14, 779),"
                     "(14, 815),"
                     "(14, 847),"
                     "(14, 872),"
                     "(15, 219),"
                     "(15, 260),"
                     "(15, 317),"
                     "(15, 463),"
                     "(15, 574),"
                     "(15, 765),"
                     "(15, 812),"
                     "(15, 930),"
                     "(16, 319),"
                     "(16, 515),"
                     "(16, 563),"
                     "(16, 641),"
                     "(16, 712),"
                     "(17, 316),"
                     "(17, 620),"
                     "(17, 785),"
                     "(17, 913),"
                     "(18, 270),"
                     "(18, 364),"
                     "(18, 502),"
                     "(18, 606),"
                     "(18, 859),"
                     "(19, 225),"
                     "(19, 318),"
                     "(19, 337),"
                     "(19, 504),"
                     "(19, 985),"
                     "(20, 207),"
                     "(21, 406),"
                     "(22, 308),"
                     "(22, 402),"
                     "(22, 531),"
                     "(23, 702),"
                     "(23, 725),"
                     "(23, 775),"
                     "(24, 603),"
                     "(25, 201),"
                     "(25, 551),"
                     "(25, 609),"
                     "(25, 640),"
                     "(25, 732),"
                     "(25, 848),"
                     "(25, 856),"
                     "(25, 862),"
                     "(25, 908),"
                     "(25, 973),"
                     "(26, 505),"
                     "(26, 575),"
                     "(27, 212),"
                     "(27, 315),"
                     "(27, 332),"
                     "(27, 347),"
                     "(27, 516),"
                     "(27, 518),"
                     "(27, 585),"
                     "(27, 607),"
                     "(27, 631),"
                     "(27, 646),"
                     "(27, 680),"
                     "(27, 716),"
                     "(27, 718),"
                     "(27, 838),"
                     "(27, 845),"
                     "(27, 914),"
                     "(27, 917),"
                     "(27, 929),"
                     "(27, 934),"
                     "(28, 252),"
                     "(28, 336),"
                     "(28, 704),"
                     "(28, 743),"
                     "(28, 828),"
                     "(28, 910),"
                     "(28, 919),"
                     "(28, 980),"
                     "(28, 984),"
                     "(29, 701),"
                     "(30, 216),"
                     "(30, 220),"
                     "(30, 234),"
                     "(30, 283),"
                     "(30, 326),"
                     "(30, 330),"
                     "(30, 380),"
                     "(30, 419),"
                     "(30, 440),"
                     "(30, 513),"
                     "(30, 567),"
                     "(30, 614),"
                     "(30, 740),"
                     "(30, 937),"
                     "(31, 405),"
                     "(31, 539),"
                     "(31, 572),"
                     "(31, 580),"
                     "(31, 918),"
                     "(32, 458),"
                     "(32, 503),"
                     "(32, 541),"
                     "(32, 971),"
                     "(33, 227),"
                     "(33, 240),"
                     "(33, 301),"
                     "(33, 410),"
                     "(33, 443),"
                     "(33, 667),"
                     "(34, 339),"
                     "(34, 351),"
                     "(34, 413),"
                     "(34, 508),"
                     "(34, 617),"
                     "(34, 774),"
                     "(34, 781),"
                     "(34, 857),"
                     "(34, 978),"
                     "(35, 231),"
                     "(35, 248),"
                     "(35, 269),"
                     "(35, 313),"
                     "(35, 517),"
                     "(35, 586),"
                     "(35, 616),"
                     "(35, 734),"
                     "(35, 810),"
                     "(35, 906),"
                     "(35, 947),"
                     "(35, 989),"
                     "(36, 218),"
                     "(36, 320),"
                     "(36, 507),"
                     "(36, 612),"
                     "(36, 651),"
                     "(36, 763),"
                     "(36, 952),"
                     "(37, 228),"
                     "(37, 601),"
                     "(37, 662),"
                     "(37, 769),"
                     "(38, 314),"
                     "(38, 417),"
                     "(38, 573),"
                     "(38, 636),"
                     "(38, 660),"
                     "(38, 816),"
                     "(39, 215),"
                     "(39, 223),"
                     "(39, 267),"
                     "(39, 272),"
                     "(39, 412),"
                     "(39, 445),"
                     "(39, 484),"
                     "(39, 570),"
                     "(39, 610),"
                     "(39, 717),"
                     "(39, 724),"
                     "(39, 814),"
                     "(39, 878),"
                     "(40, 401),"
                     "(41, 803),"
                     "(41, 839),"
                     "(41, 843),"
                     "(41, 854),"
                     "(41, 864),"
                     "(42, 605),"
                     "(43, 423),"
                     "(43, 615),"
                     "(43, 629),"
                     "(43, 731),"
                     "(43, 865),"
                     "(43, 901),"
                     "(43, 931),"
                     "(44, 210),"
                     "(44, 214),"
                     "(44, 254),"
                     "(44, 281),"
                     "(44, 325),"
                     "(44, 346),"
                     "(44, 361),"
                     "(44, 409),"
                     "(44, 430),"
                     "(44, 432),"
                     "(44, 469),"
                     "(44, 512),"
                     "(44, 682),"
                     "(44, 713),"
                     "(44, 726),"
                     "(44, 737),"
                     "(44, 806),"
                     "(44, 817),"
                     "(44, 830),"
                     "(44, 832),"
                     "(44, 903),"
                     "(44, 915),"
                     "(44, 936),"
                     "(44, 940),"
                     "(44, 956),"
                     "(44, 972),"
                     "(44, 979),"
                     "(45, 385),"
                     "(45, 435),"
                     "(45, 801),"
                     "(46, 802),"
                     "(47, 276),"
                     "(47, 434),"
                     "(47, 540),"
                     "(47, 571),"
                     "(47, 703),"
                     "(47, 757),"
                     "(47, 804),"
                     "(48, 206),"
                     "(48, 253),"
                     "(48, 360),"
                     "(48, 425),"
                     "(48, 509),"
                     "(48, 564),"
                     "(49, 304),"
                     "(49, 681),"
                     "(50, 262),"
                     "(50, 414),"
                     "(50, 534),"
                     "(50, 608),"
                     "(50, 715),"
                     "(50, 920),"
                     "(51, 307)"
                )
    # ### end Alembic commands ###


def downgrade():
    # "### commands auto generated by Alembic - please adjust! ###
    op.drop_table('phones')
    # ### end Alembic commands ###
